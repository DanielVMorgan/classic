<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dan Morgan Designs</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script src="js/now-loader.js" defer></script>
  <link href="css/classic.css" rel="stylesheet">
  <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</head>

<body class="bg-mac-os min-h-screen flex items-center justify-center p-4">

  <div id="desktop-container"></div>

  <!-- Window container -->
  <div class="hypercard-window">

    <div class="modal-titlebar  modal-titlebar--static relative flex items-center">
      <div class="spacer shrink-0"></div>
      <div class="close-box-wrapper">
        <div class="close-box" onclick="closeModal()"></div>
      </div>
      <div class="absolute inset-0 flex justify-center items-center pointer-events-none">
        <span class="bg-white px-2 py-[1px] leading-none z-10 modal-title">Now</span>
      </div>
    </div>

    <!-- Inner Layout -->
    <div class="flex flex-col flex-1 overflow-hidden min-h-0">

      <!-- Top Row (Fixed 32px) -->
      <div class="h-8 px-4 pt-5 flex items-center justify-between">
        <button id="home-button" class="icon-button w-8 h-8">
          <img src="images/home.svg" alt="Home" />
        </button>
        <button id="mail-button" class="icon-button w-8 h-8">
          <img src="images/mail.svg" alt="Contact" />
        </button>
      </div>

      <!-- Scrollable Content -->
      <span class="classic-serif-heading pt-6 pb-2 pl-4">What I'm Doing Now</span>

      <div
        class="flex-1 relative border border-black shadow-[2px_2px_0_black] bg-white mx-6 rounded-[0px] overflow-hidden flex flex-col">

        <!-- Scrollable blog content area -->
        <div class="flex-1 overflow-y-auto p-3 space-y-4">
          <div id="now-content" class="classic-normal-text leading-tight space-y-2">
            Loading latest update...
          </div>
          <div id="post-nav" class="classic-normal-text mt-4"></div>
        </div>

        <!-- Fixed nav row inside the box, bottom-aligned -->
        <div class="flex items-center justify-between px-4 py-2">
          <!-- Left: Return to Latest -->
          <img src="images/lg-return-arrow.svg" alt="Return to latest" width="23" height="21" onclick="loadLatestPost()"
            class="nav-icon" />

          <!-- Center: Prev + Next icons -->
          <div class="flex gap-6 items-center">
            <img id="nav-prev" src="images/prev-arrow.svg" alt="Newer post" width="23" height="21"
              class="nav-icon" />
            <img id="nav-next" src="images/next-arrow.svg" alt="Older post" width="22" height="21"
              class="nav-icon" />
          </div>

          <!-- Right spacer -->
          <div style="width: 25px;"></div>
        </div>
      </div>

      <!-- Bottom Row (Fixed 32px) -->
      <div class="h-8 mt-3 px-4 pb-4 flex items-center justify-between">
        <button id="previous-button" class="icon-button w-8 h-8">
          <img src="images/hand-pointing-left.svg" alt="Previous" />
        </button>
        <button id="next-button" class="icon-button w-8 h-8">
          <img src="images/hand-pointing-right.svg" alt="Next" />
        </button>
      </div>

    </div>

    <div id="invader-container"></div>
    <div id="palette-container"></div>
  </div>
  
   <!-- End hypercard-window -->
    
  <div id="viewer-container"></div>



  <script>
    document.getElementById('mail-button')?.addEventListener('click', () => {
      window.location.href = 'contact-me.html';
    });

    document.getElementById('home-button')?.addEventListener('click', () => {
      window.location.href = 'index.html';
    });

    document.getElementById('previous-button')?.addEventListener('click', () => {
      window.location.href = 'index.html';
    });

    document.getElementById('next-button')?.addEventListener('click', () => {
      window.location.href = 'services.html';
    });

    document.addEventListener("touchstart", function () { }, true);
  </script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>


  <script src="js/invaders.js"></script>
  <script src="js/desktop-ui.js"></script>
  <script src="js/palette.js"></script>
  <script src="js/viewer.js"></script>
  </script>

</body>

</html>